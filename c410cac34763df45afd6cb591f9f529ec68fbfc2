{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "bbf20de0_d404309e",
        "filename": "libs/binder/Android.bp",
        "patchSetId": 9
      },
      "lineNbr": 170,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "can you use something else for this flag - like \"BINDER_RPC_DEV_SERVERS\" since \"Binder RPC\" is the generic term for binder over sockets, which is enabled with or without this flag?",
      "range": {
        "startLine": 170,
        "startChar": 31,
        "endLine": 170,
        "endChar": 34
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a3dcc51_ec8fa76b",
        "filename": "libs/binder/Android.bp",
        "patchSetId": 9
      },
      "lineNbr": 170,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-11T16:53:43Z",
      "side": 1,
      "message": "Sure, will do",
      "parentUuid": "bbf20de0_d404309e",
      "range": {
        "startLine": 170,
        "startChar": 31,
        "endLine": 170,
        "endChar": 34
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "260cf7a2_57d3135e",
        "filename": "libs/binder/Android.bp",
        "patchSetId": 9
      },
      "lineNbr": 170,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a3dcc51_ec8fa76b",
      "range": {
        "startLine": 170,
        "startChar": 31,
        "endLine": 170,
        "endChar": 34
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93958818_b91d8973",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 157,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "nit: log? (same below)",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 157,
        "endChar": 33
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e767635_bd6475b4",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 157,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93958818_b91d8973",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 157,
        "endChar": 33
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4ca9e52_7b4a3f47",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 160,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "unneeded - this duplicates logic when addRpcClient is called, either here or in the other process. We don\u0027t really need the extra check to save the IPC, and we could allow empty FD later",
      "range": {
        "startLine": 160,
        "startChar": 0,
        "endLine": 160,
        "endChar": 41
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed83fb1f_b7ae2213",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 160,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4ca9e52_7b4a3f47",
      "range": {
        "startLine": 160,
        "startChar": 0,
        "endLine": 160,
        "endChar": 41
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7e0db7c_597b35f9",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 422,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "return error (otherwise you can use this to crash this)",
      "range": {
        "startLine": 422,
        "startChar": 0,
        "endLine": 422,
        "endChar": 72
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce6bf989_196f4ede",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 422,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "I\u0027ve changed the design, so this no longer applies. PTAL at new patchset.",
      "parentUuid": "d7e0db7c_597b35f9",
      "range": {
        "startLine": 422,
        "startChar": 0,
        "endLine": 422,
        "endChar": 72
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41e8d0fe_8ddce43c",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 426,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "should hold e-\u003emLock",
      "range": {
        "startLine": 421,
        "startChar": 0,
        "endLine": 426,
        "endChar": 48
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c234da8d_372a941e",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 426,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41e8d0fe_8ddce43c",
      "range": {
        "startLine": 421,
        "startChar": 0,
        "endLine": 426,
        "endChar": 48
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e841c8e_52092dc2",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 436,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "since we pass a single already-accepted FD here, it will be impossible to add new threads/clients.\n\nI\u0027m curious, have you thought about having something like \u0027setupServer\u0027 which takes an FD, and then s/addRpcClient/addRpcServer/ would start listening to connections on a suggested port? You could have \u0027RpcServer::setForSocket(unique_fd)\u0027",
      "range": {
        "startLine": 436,
        "startChar": 31,
        "endLine": 436,
        "endChar": 47
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f77f7dc_05277f34",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 436,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "same, hold lock",
      "range": {
        "startLine": 435,
        "startChar": 4,
        "endLine": 436,
        "endChar": 69
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83fc3447_2d0cb22a",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 436,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-11T17:36:32Z",
      "side": 1,
      "message": "Yes I have considered this idea. Just to confirm, the fd passed to setForSocket() is the one generated from socket(), not accept(), right? So:\n\n- servicedispatcher creates socket() fd, calls listen() on it, then pass it to individual service and exit\n- service accept()s new connection\n\nI do not object this idea. I didn\u0027t choose it because I used to have a long-running servicedispatcher daemon in my design.\n\nI\u0027ll change to this one.",
      "parentUuid": "4e841c8e_52092dc2",
      "range": {
        "startLine": 436,
        "startChar": 31,
        "endLine": 436,
        "endChar": 47
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "82e681a3_b8a4fae2",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 436,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "83fc3447_2d0cb22a",
      "range": {
        "startLine": 436,
        "startChar": 31,
        "endLine": 436,
        "endChar": 47
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9acb0fc5_2a285b14",
        "filename": "libs/binder/Binder.cpp",
        "patchSetId": 9
      },
      "lineNbr": 436,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f77f7dc_05277f34",
      "range": {
        "startLine": 435,
        "startChar": 4,
        "endLine": 436,
        "endChar": 69
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf4fe9f9_95b8770d",
        "filename": "libs/binder/RpcServer.cpp",
        "patchSetId": 9
      },
      "lineNbr": 131,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "can be removed since you have it in accept below",
      "range": {
        "startLine": 131,
        "startChar": 0,
        "endLine": 131,
        "endChar": 53
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "658eb4ec_631de7ec",
        "filename": "libs/binder/RpcServer.cpp",
        "patchSetId": 9
      },
      "lineNbr": 131,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "No longer applies",
      "parentUuid": "cf4fe9f9_95b8770d",
      "range": {
        "startLine": 131,
        "startChar": 0,
        "endLine": 131,
        "endChar": 53
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75966975_3181a144",
        "filename": "libs/binder/RpcServer.cpp",
        "patchSetId": 9
      },
      "lineNbr": 162,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "E",
      "range": {
        "startLine": 162,
        "startChar": 17,
        "endLine": 162,
        "endChar": 19
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d74395e2_8536e3c1",
        "filename": "libs/binder/RpcServer.cpp",
        "patchSetId": 9
      },
      "lineNbr": 162,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "No longer applies",
      "parentUuid": "75966975_3181a144",
      "range": {
        "startLine": 162,
        "startChar": 17,
        "endLine": 162,
        "endChar": 19
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caaf211d_7cf3b35e",
        "filename": "libs/binder/include/binder/Binder.h",
        "patchSetId": 9
      },
      "lineNbr": 99,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "btw - can you add these new functions to BinderFuzz.cpp?",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 99,
        "endChar": 0
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2935cc02_77924503",
        "filename": "libs/binder/include/binder/Binder.h",
        "patchSetId": 9
      },
      "lineNbr": 99,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-19T02:58:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "caaf211d_7cf3b35e",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 99,
        "endChar": 0
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d78a5fe5_2e13c627",
        "filename": "libs/binder/include/binder/RpcServer.h",
        "patchSetId": 9
      },
      "lineNbr": 118,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "this name will be slightly confusing compared with IPCThreadState::handlePolledCommands since they are very different.\n\nCan you add docs on both of these?",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 81
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7a0f9a2_6cb01333",
        "filename": "libs/binder/include/binder/RpcServer.h",
        "patchSetId": 9
      },
      "lineNbr": 118,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-11T16:53:43Z",
      "side": 1,
      "message": "Sure.\n\nI am also happy to rename it if you have some other name to suggest.",
      "parentUuid": "d78a5fe5_2e13c627",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 81
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f513a444_72717e0a",
        "filename": "libs/binder/include/binder/RpcServer.h",
        "patchSetId": 9
      },
      "lineNbr": 118,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-11T17:22:46Z",
      "side": 1,
      "message": "Sorry, see the \"since we pass a single already-accepted FD here, it will be impossible to add new threads/clients.\" comment first. I think you may find you don\u0027t need this method at all (and instead need something like \u0027RpcServer::release\u0027). Though, if you do need it, maybe spawnLooperForAcceptedFd?",
      "parentUuid": "e7a0f9a2_6cb01333",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 81
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d1cc16f_e3b6b8b6",
        "filename": "libs/binder/include/binder/RpcServer.h",
        "patchSetId": 9
      },
      "lineNbr": 118,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-13T05:53:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f513a444_72717e0a",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 81
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "729cc748_47f0e346",
        "filename": "libs/binder/tests/Android.bp",
        "patchSetId": 9
      },
      "lineNbr": 69,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "nit: does this belong on the parent CL?",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 69,
        "endChar": 6
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67989ccf_9dfc32c5",
        "filename": "libs/binder/tests/Android.bp",
        "patchSetId": 9
      },
      "lineNbr": 69,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-11T16:53:43Z",
      "side": 1,
      "message": "Done, please +2 1700335 again",
      "parentUuid": "729cc748_47f0e346",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 69,
        "endChar": 6
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7803410d_726b269c",
        "filename": "libs/binder/tests/binderLibTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 1271,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2021-05-10T18:10:55Z",
      "side": 1,
      "message": "can you try an example which uses multiple threads?",
      "range": {
        "startLine": 1271,
        "startChar": 0,
        "endLine": 1271,
        "endChar": 87
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a74ade6_417141be",
        "filename": "libs/binder/tests/binderLibTest.cpp",
        "patchSetId": 9
      },
      "lineNbr": 1271,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-05-14T03:23:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7803410d_726b269c",
      "range": {
        "startLine": 1271,
        "startChar": 0,
        "endLine": 1271,
        "endChar": 87
      },
      "revId": "c410cac34763df45afd6cb591f9f529ec68fbfc2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}